{% extends "base.html" %}
{% block content %}
{% load static %}
{% load thumbnail %}

{% if user.is_authenticated %}
<br> </br>
<div class="content-section">
    <div class="row">
      {% for inventory in inventories %}
      <div class="col-md-4">
        <div class="card mb-4 product-card">
          <img src="{% static 'images/products/apples.jpeg' %}">
          
          <h6>{{ inventory.name }}</h6>
          <p>{{ inventory.quantity_in_stock }}</p>
          <p>{{ inventory.cost_per_item }}</p>
          <div class="card-body">
            <div class="row mx-auto justify-content-center">
              <a class="btn btn-outline-success btn-sm" href="">ADD TO CART</a>
              <a class="btn btn-outline-success btn-sm" href="{% url 'update_inventory' inventory.id %}">UPDATE</a>
              <a class="btn btn-danger btn-sm" href="">REMOVE</a>
              <a href="">
                <i class="fa-solid fa-cart-shopping fa-lg" style="color: #010204;" class="tooltiptext"></i></a>&nbsp
              <a href="{% url 'update_inventory' inventory.id %}">
                <i class="fa-solid fa-pencil fa-lg" style="color: #000000;" class="tooltiptext"></i></a> &nbsp
              <a href="{% url 'delete_inventory' inventory.id %}"
                >
            </div>
          </div>
        </div>

      </div>
      {% endfor %}
      <!-- <div class="col-lg-6">
        <div class="card-body">
          <img src="{% static 'images/products/apples.jpeg' %}">
            <h6>Product</h6>
          
        </div>

      </div>
      <div class="col-lg-6">
        <div class="card-body">
          <img src="{% static 'images/products/apples.jpeg' %}">
            <h6>Product</h6>
          
        </div>

      </div>
      <div class="col-lg-6">
        <div class="card-body">
          <img src="{% static 'images/products/apples.jpeg' %}">
          
            <h6>Product</h6>
        </div>
      </div> -->
    </div>
    
    <!-- <div class="row mx-auto justify-content-center">
        <a class="btn btn-outline-success btn-sm" href="">ADD TO CART</a>
        <a class="btn btn-danger btn-sm" href="">REMOVE</a>
    </div> -->

</div>

<div class = "container">
  <h1 class= "text-center">SHOPPING CART</h1>
  <br>

  <div class = "container">
    <form action = "" method = "GET">
      {{product_filters.form}}
      <input 
      type = "submit"
      value = "Search Products"
      class="btn btn-outline-warning btn"/>
    </form>
  </div>

  <br>
  <table class="table">
    <thead class="thead-dark">
      <tr>
        
        <th scope="col">ID</th>
        <!-- <th scope="col">Category</th> -->
        <th scope = "col">Product</th>
        <th scope = "col">Unit Price(UGX)</th>
        <th scope = "col">Stock Date</th>
        <th scope = "col">Last Sales Date</th>
        <th scope = "col">Options</th>
      </tr>
    </thead>
    {% for inventory in inventories%}
    <tbody>
      <tr style="cursor: pointer; cursor: hand;">
        <th scope="row">{{ forloop.counter }}</th>
        <!-- <th scope="row">{{ inventory.category_name }}</th> -->
        <th scope="row">{{ inventory.name }}</th> 
        <th scope="row">UGX{{ inventory.cost_per_item }}</th>  
        <th scope="row">{{ inventory.stock_date }}</th>
        <th scope="row">UGX{{ inventory.last_sales_date }}</th> 
        <th><a href=""
              ><input
                type="submit"
                value="BUY"
                class="btn btn-warning btn"
                type="button"
            /></a>
            <a href=""
              ><input
                type="submit"
                value="Cancel"
                class="btn btn-warning btn"
                type="button"
            /></a>
        </th>
      </tr>
    </tbody>
    {% endfor %}
  </table>
  
</div>
{% else %}
      <p>You are not logged in</p>
      <a href="{% url 'login' %}">Log In</a> &ensp;
      <a href="{% url 'register' %}">Register here</a>    
{% endif %}

{% endblock %}